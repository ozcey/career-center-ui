<div class="container">
  <div class="heading">
      <button class="back" color="accent" mat-raised-button type="button" (click)="OnGoBack()">Back to home</button>
     <h4 id="title">Application Form</h4>
    </div>
    <div *ngIf="alertType === 'SUCCESS'" class="alert alert-success alert-dismissible fade show" role="alert">
      <p id="successMessage"> Applicant created successfully</p>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div *ngIf="alertType === 'ERROR'" class="alert alert-danger alert-dismissible fade show" role="alert">
      Something went wrong.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  <mat-horizontal-stepper [linear]="!isLinear" #stepper>
    <mat-step [stepControl]="nameFormGroup">
      <form [formGroup]="nameFormGroup">
        <ng-template matStepLabel>Fill out your contact</ng-template>
        <mat-form-field appearance="fill">
          <mat-label>First name</mat-label>
          <input matInput id="first_name" type="text" placeholder="First name" formControlName="firstName" required>
          <mat-error
            *ngIf="nameFormGroup.get('firstName').hasError('required') && nameFormGroup.get('firstName').touched">
            Required</mat-error>
          <mat-error
            *ngIf="!nameFormGroup.get('firstName').hasError('required') && nameFormGroup.get('firstName').touched">Must
            be at least 2 characters</mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Last name</mat-label>
          <input matInput id="last_name" type="text" placeholder="Last name" formControlName="lastName" required>
          <mat-error
            *ngIf="nameFormGroup.get('lastName').hasError('required') && nameFormGroup.get('lastName').touched">Required
          </mat-error>
          <mat-error
            *ngIf="!nameFormGroup.get('lastName').hasError('required') && nameFormGroup.get('lastName').touched">Must be
            at least 2 characters</mat-error>
        </mat-form-field> <br>
        <mat-form-field appearance="fill">
          <mat-label>Phone</mat-label>
          <input matInput id="phone" type="text" placeholder="Phone" formControlName="phone" required>
          <mat-error *ngIf="nameFormGroup.get('phone').hasError('required') && nameFormGroup.get('phone').touched">
            Required</mat-error>
          <mat-error *ngIf="!nameFormGroup.get('phone').hasError('required') && nameFormGroup.get('phone').touched">
            Invalid phone</mat-error>

        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput id="email" type="email" placeholder="Email" formControlName="email" required>
          <mat-error *ngIf="nameFormGroup.get('email').hasError('required') && nameFormGroup.get('email').touched">
            Required</mat-error>
          <mat-error *ngIf="!nameFormGroup.get('email').hasError('required') && nameFormGroup.get('email').touched">
            Invalid email</mat-error>
        </mat-form-field><br>
        <div>
          <button mat-flat-button matStepperNext id="next_1" color="primary">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="addressFormGroup">
      <form [formGroup]="addressFormGroup">
        <ng-template matStepLabel>Fill out your address</ng-template>
        <mat-form-field appearance="fill">
          <mat-label>Address</mat-label>
          <input matInput id="street" type="text" placeholder="Address" formControlName="street" required>
          <mat-error
            *ngIf="addressFormGroup.get('street').hasError('required') && addressFormGroup.get('street').touched">
            Required</mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>City</mat-label>
          <input matInput id="city" type="text" placeholder="City" formControlName="city" required>
          <mat-error *ngIf="addressFormGroup.get('city').hasError('required') && addressFormGroup.get('city').touched">
            Required</mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>State</mat-label>
          <input matInput id="state" type="text" placeholder="State" formControlName="state" required>
          <mat-error
            *ngIf="addressFormGroup.get('state').hasError('required') && addressFormGroup.get('state').touched">Required
          </mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Zip Code</mat-label>
          <input matInput id="zipcode" type="text" placeholder="Zip Code" formControlName="zipcode" required>
          <mat-error
            *ngIf="addressFormGroup.get('zipcode').hasError('required') && addressFormGroup.get('zipcode').touched">
            Required</mat-error>
        </mat-form-field>
        <div>
          <button mat-flat-button matStepperPrevious id="back_2" color="accent" style="margin-right: 10px;">Back</button>
          <button mat-flat-button matStepperNext id="next_2" color="primary">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="professionalFormGroup">
      <form [formGroup]="professionalFormGroup">
        <ng-template matStepLabel>Fill out your job detail</ng-template>
        <mat-form-field appearance="fill">
          <mat-label>Areas of Interest</mat-label>
          <mat-select matInput id="category" formControlName="category" required>
            <mat-option value="IT">IT</mat-option>
            <mat-option value="Health">Health</mat-option>
            <mat-option value="Education">Education</mat-option>
          </mat-select>
          <mat-error
            *ngIf="professionalFormGroup.get('category').hasError('required') && professionalFormGroup.get('category').touched">
            Required</mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Age</mat-label>
          <input matInput id="age" type="number" placeholder="Age" formControlName="age" required>
          <mat-error
            *ngIf="professionalFormGroup.get('age').hasError('required') && professionalFormGroup.get('age').touched">
            Required</mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Gender</mat-label>
          <mat-select matInput id="gender" formControlName="gender" required>
            <mat-option value="Male">Male</mat-option>
            <mat-option value="Female">Female</mat-option>
          </mat-select>
          <mat-error
            *ngIf="professionalFormGroup.get('gender').hasError('required') && professionalFormGroup.get('gender').touched">
            Required</mat-error>
        </mat-form-field><br>
        <mat-form-field appearance="fill">
          <mat-label>Degree</mat-label>
          <input matInput id="degree" type="text" placeholder="Degree" formControlName="degree" required>
          <mat-error
            *ngIf="professionalFormGroup.get('degree').hasError('required') && professionalFormGroup.get('degree').touched">
            Required</mat-error>
        </mat-form-field><br>

        <mat-form-field appearance="fill">
          <mat-label>Languages</mat-label>
          <mat-select matInput id="languages" formControlName="languages" required>
            <mat-option value="English">English</mat-option>
            <mat-option value="Turkish">Turkish</mat-option>
            <mat-option value="French">French</mat-option>
          </mat-select>
          <mat-error
            *ngIf="professionalFormGroup.get('languages').hasError('required') && professionalFormGroup.get('languages').touched">
            Required</mat-error>
        </mat-form-field>
        <div>
          <button mat-flat-button matStepperPrevious id="back_3" color="accent" style="margin-right: 10px;">Back</button>
          <button mat-flat-button matStepperNext id="next_3" color="primary">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p id="submit_message">You are now done. Please submit the form.</p>
      <button mat-raised-button type="submit" id="submit" color="primary" (click)="onSubmit()" style="width: 140px;"
        [disabled]="nameFormGroup.invalid || addressFormGroup.invalid || professionalFormGroup.invalid">Submit</button><br><br>
      <div>
        <button mat-flat-button matStepperPrevious color="accent" id="back_4" style="margin-right: 10px;">Back</button>
        <button mat-flat-button (click)="stepper.reset()" id="reset" color="warn">Reset</button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</div>
